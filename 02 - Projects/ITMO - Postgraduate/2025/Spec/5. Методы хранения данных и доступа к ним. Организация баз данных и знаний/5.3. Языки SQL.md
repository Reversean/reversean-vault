# Стандарты языков SQL

**SQL (Structured Query Language)** — декларативный язык для управления реляционными базами данных. Он стандартизован ANSI и ISO.

## Основные стандарты SQL:

- **SQL-86 (SQL1)** — базовые операторы DDL, DML
    
- **SQL-89** — уточнения по внешним ключам
    
- **SQL-92 (SQL2)** — подзапросы, внешние соединения, проверочные ограничения
    
- **SQL:1999 (SQL3)** — рекурсивные запросы, объекты, триггеры, оконные функции
    
- **SQL:2003** — XML, автогенерируемые столбцы
    
- **SQL:2008** — MERGE, улучшения триггеров, расширения оконных функций
    
- **SQL:2011** — временные таблицы, system-versioned tables
    
- **SQL:2016** — JSON
    
- **SQL:2019** — таблицы с несколькими значениями (table value constructors), улучшенная поддержка JSON
    

---

# Интерактивный SQL

**Интерактивный SQL** — использование SQL-команд напрямую в интерфейсе командной строки или в GUI-инструментах (например, psql, MySQL CLI, SQL Developer).

## Особенности:

- Ввод команд вручную
    
- Мгновенное выполнение
    
- Используется для отладки, анализа, администрирования
    

## Пример:

```sql
SELECT name FROM employees WHERE department = 'HR';
```

---

# Встроенный SQL (Embedded SQL)

**Встроенный SQL** — использование SQL-команд внутри программ на других языках (например, C/C++, Java) с помощью специальных расширений и препроцессоров.

## Особенности:

- SQL-запросы внедряются в код программы
    
- Необходим препроцессор (например, Pro*C, ESQL/C)
    
- Требует компиляции
    

## Пример:

```c
EXEC SQL SELECT name INTO :emp_name FROM employees WHERE emp_id = :id;
```

---

# Динамический SQL

**Динамический SQL** — формирование SQL-запросов во время выполнения программы, как правило, в виде строк.

## Особенности:

- Гибкость: можно формировать произвольные запросы в рантайме
    
- Используется в высокоуровневых API (JDBC, ODBC, ADO.NET)
    
- Возможность исполнения SQL через `EXECUTE` или подготовленные выражения
    

## Пример (на PL/pgSQL):

```plpgsql
EXECUTE 'SELECT count(*) FROM ' || quote_ident(table_name) INTO row_count;
```

---

# Сравнение типов SQL:

|Тип SQL|Когда используется|Преимущества|Недостатки|
|---|---|---|---|
|Интерактивный|Работа с БД вручную, администрирование|Простота, немедленный результат|Неподходит для автоматизации|
|Встроенный|Статически типизированные приложения|Безопасность, производительность|Требует препроцессора|
|Динамический|Гибкие, адаптивные системы|Универсальность, генерация на лету|Уязвим к SQL-инъекциям, сложнее|

---

# Связь со стандартами

Стандарты SQL формируют основу всех трёх подходов. Некоторые расширения (например, оконные функции, рекурсия) доступны только в более новых версиях стандартов и поддерживаются не всеми СУБД (например, SQLite — частично, PostgreSQL — почти полностью).